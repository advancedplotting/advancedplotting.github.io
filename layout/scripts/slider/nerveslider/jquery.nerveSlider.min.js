// Thanks to jQuery TouchPunch for the mobile drag hack
(function(b){b.support.touch="ontouchend" in document;if(!b.support.touch){return;}var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return;}g.preventDefault();var i=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f);}c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return;}a=true;f._touchMoved=false;d(g,"mouseover");d(g,"mousemove");d(g,"mousedown");};c._touchMove=function(f){if(!a){return;}this._touchMoved=true;d(f,"mousemove");};c._touchEnd=function(f){if(!a){return;}d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click");}a=false;};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f);};})(jQuery);
// Nerve Slider shuffle script
jQuery.fn.nerveShuffle=function(){for(var b,a=0;a<this.length;a++)b=Math.floor(Math.random()*this.length),$(this[a]).before($(this[b]));return this};
/* Copyright (C) 2013, Ryan Bruzan - Nerve Slider v8.7 */
(function(e){e.fn.nerveSlider=function(t){var n=e.extend({sliderWidth:"1200px",sliderHeight:"500px",sliderHeightAdaptable:false,sliderFullscreen:false,sliderAutoPlay:true,waitForLoad:false,slideTransition:"slide",slideTransitionDirection:"left",slideTransitionSpeed:1e3,slideTransitionDelay:5e3,slideTransitionEasing:"swing",slideTransitionStart:function(){},slideTransitionComplete:function(){},slideImageScaleMode:"fill",slideShuffle:false,slideReverse:false,startOnSlide:1,showFilmstrip:false,showCaptions:true,simultaneousCaptions:false,showTimer:true,timerStartWidth:"0%",timerEndWidth:"100%",showPause:true,showArrows:true,showDots:true,showLoadingOverlay:true,sliderTheme:"light",slidesDraggable:true,slidesDragLimitFactor:5,allowKeyboardEvents:true,sliderResizable:false,sliderKeepAspectRatio:true,preDelay:0},t);return e(this).each(function(){function u(){e(t).find(".ns_caption").stop().fadeOut(n.slideTransitionSpeed/4,"swing");e(t).find(".ns_timer").stop();if(n.slideTransition=="slide"){if(!e(t).find(".ns_selected").hasClass("ns_lastSlide")){if(e(t).find(".ns_selected").hasClass("ns_firstSlide")){e(t).find(".ns_slidesTrack, .ns_caption").stop(true,true)}else{e(t).find(".ns_slidesTrack").stop(false,false)}e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").next(".ns_dot").addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").next(".ns_slideContainer").addClass("ns_selected");if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();o[i]=e(t).find(".ns_selected").data("positionleft")*-1+"%";e(t).find(".ns_slidesTrack").animate(o,n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}else{e(t).find(".ns_slidesTrack").stop(false,false);e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:first-child").addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").parent().find(".ns_firstSlide").addClass("ns_selected");if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_decoy.ns_fs .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();o[i]=e(t).find(".ns_decoy.ns_fs").data("positionleft")*-1+"%";e(t).find(".ns_slidesTrack").animate(o,n.slideTransitionSpeed,n.slideTransitionEasing,function(){e(t).find(".ns_slidesTrack").css(i,0+"%");if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}}else if(n.slideTransition=="fade"){if(!e(t).find(".ns_selected").hasClass("ns_lastSlide")){e(t).find(".ns_selected").stop(true,false);e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").next(".ns_dot").addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").animate({opacity:0},n.slideTransitionSpeed,n.slideTransitionEasing).toggleClass("ns_selected").next(".ns_slideContainer").addClass("ns_selected");e(t).find(".ns_slideContainer").each(function(){e(this).css({"z-index":e(this).data("originalZIndex")})});e(t).find(".ns_slideContainer.ns_selected").css({"z-index":45});if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();e(t).find(".ns_slideContainer.ns_selected").animate({opacity:1},n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}else{e(t).find(".ns_selected").stop(true,false);e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:first-child").addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").animate({opacity:0},n.slideTransitionSpeed,n.slideTransitionEasing).toggleClass("ns_selected").parent().find(".ns_firstSlide").addClass("ns_selected");e(t).find(".ns_slideContainer").each(function(){e(this).css({"z-index":e(this).data("originalZIndex")})});e(t).find(".ns_slideContainer.ns_selected").css({"z-index":45});if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_decoy.ns_fs .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();e(t).find(".ns_slideContainer.ns_selected").animate({opacity:1},n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}}}function a(){e(t).find(".ns_caption").stop().fadeOut(n.slideTransitionSpeed/4,"swing");e(t).find(".ns_timer").stop();if(n.slideTransition=="slide"){if(!e(t).find(".ns_selected").hasClass("ns_firstSlide")){e(t).find(".ns_slidesTrack").stop(false,false);e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").prev(".ns_dot").addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").prev(".ns_slideContainer").addClass("ns_selected");if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();o[i]=e(t).find(".ns_selected").data("positionleft")*-1+"%";e(t).find(".ns_slidesTrack").animate(o,n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}else{e(t).find(".ns_slidesTrack").stop(false,false);e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").parent().find(".ns_lastSlide").addClass("ns_selected");if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}o[i]=e(t).find(".ns_decoy.ns_fs").data("positionleft")*-1+"%";e(t).find(".ns_slidesTrack").css(o);e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:last-child").addClass("ns_selected");n.slideTransitionStart();o[i]=e(t).find(".ns_lastSlide").data("positionleft")*-1+"%";e(t).find(".ns_slidesTrack").animate(o,n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}}else if(n.slideTransition=="fade"){if(!e(t).find(".ns_selected").hasClass("ns_firstSlide")){e(t).find(".ns_selected").stop(true,false);e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").prev(".ns_dot").addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").animate({opacity:0},n.slideTransitionSpeed,n.slideTransitionEasing).toggleClass("ns_selected").prev(".ns_slideContainer").addClass("ns_selected");e(t).find(".ns_slideContainer").each(function(){e(this).css({"z-index":e(this).data("originalZIndex")})});e(t).find(".ns_slideContainer.ns_selected").css({"z-index":45});if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();e(t).find(".ns_slideContainer.ns_selected").animate({opacity:1},n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}else{e(t).find(".ns_selected").stop(true,false);e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});if(n.sliderHeightAdaptable===false){A()}e(t).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:last-child").addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").animate({opacity:0},n.slideTransitionSpeed,n.slideTransitionEasing).toggleClass("ns_selected").parent().find(".ns_lastSlide").addClass("ns_selected");e(t).find(".ns_slideContainer").each(function(){e(this).css({"z-index":e(this).data("originalZIndex")})});e(t).find(".ns_slideContainer.ns_selected").css({"z-index":45});if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();e(t).find(".ns_slideContainer.ns_selected").animate({opacity:1},n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}}}function f(s,a){e(t).find(".ns_caption").stop().fadeOut(n.slideTransitionSpeed/4,"swing");e(t).find(".ns_timer").stop();e(t).find(".ns_slidesTrack").stop(false,false);e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});e(t).find(".ns_dots .ns_dot.ns_selected, .ns_slideContainer.ns_selected").toggleClass("ns_selected");e(t).find(".ns_slideContainer").eq(a).addClass("ns_selected");e(t).find(".ns_dots .ns_dot").eq(a).addClass("ns_selected");if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();o[i]=s;e(t).find(".ns_slidesTrack").animate(o,n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}function l(){r=true;e(t).find(".ns_pauseButton div, .ns_timer").stop(true,false);e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});e(t).find(".ns_pauseButton div").animate({"background-position-y":"100%"},n.slideTransitionSpeed/2,n.slideTransitionEasing);e(t).find(".ns_pauseButton").one("click",c)}function c(){r=false;e(t).find(".ns_pauseButton div, .ns_timer").stop(true,true);e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected");e(t).find(".ns_pauseButton div").animate({"background-position-y":"0%"},n.slideTransitionSpeed/2,n.slideTransitionEasing);if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_pauseButton").one("click",l)}function h(){if(r==false){l()}else if(r==true){c()}}function p(){setTimeout(function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}},n.preDelay);e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}function N(r){if(n.sliderHeightAdaptable===false){A()}var i=r.data("jumpposition");var s=r.attr("id").replace("ns_dot_","");f(i,s);e(t).find(".ns_dots .ns_dot.ns_selected").removeClass("ns_selected");r.addClass("ns_selected")}function C(i){if(n.sliderHeightAdaptable===false){A()}var s=i.attr("id").replace("ns_dot_","");e(t).find(".ns_caption").stop().fadeOut(n.slideTransitionSpeed/4,"swing");e(t).find(".ns_timer").stop();e(t).find(".ns_selected").stop(false,false);e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});e(t).find(".ns_dots .ns_dot.ns_selected").removeClass("ns_selected");i.addClass("ns_selected");e(t).find(".ns_slideContainer.ns_selected").removeClass("ns_selected").animate({opacity:0},n.slideTransitionSpeed,n.slideTransitionEasing);e(t).find(".ns_slideContainer").eq(s).addClass("ns_selected");e(t).find(".ns_slideContainer").each(function(){e(this).css({"z-index":e(this).data("originalZIndex")})});e(t).find(".ns_slideContainer.ns_selected").css({"z-index":45});if(n.simultaneousCaptions===true){e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing")}n.slideTransitionStart();e(t).find(".ns_slideContainer.ns_selected").animate({opacity:1},n.slideTransitionSpeed,n.slideTransitionEasing,function(){if(r===false){e(t).find(".ns_timer").animate({width:n.timerEndWidth},n.slideTransitionDelay,"linear",function(){u()})}e(t).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(n.slideTransitionSpeed/4,"swing");if(n.sliderHeightAdaptable===false){A()}n.slideTransitionComplete()});if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}function k(){var r;var i;var o;var f;var l;var c;var h=n.slidesDragLimitFactor;e(t).find(".ns_slides").draggable({axis:s,scroll:false,start:function(n,s){e(t).find(".ns_slideContainer, .ns_slides").stop(true,true);r=s.position.left;i=s.position.top},stop:function(s,p){l=e(t).width();c=e(t).height();if(n.slideTransitionDirection=="left"||n.slideTransitionDirection=="up"){o=(p.position.left-r)*-1;f=(p.position.top-i)*-1}else if(n.slideTransitionDirection=="right"||n.slideTransitionDirection=="down"){o=p.position.left-r;f=p.position.top-i}if(o>=l/h||f>=c/h){e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});u();e(t).find(".ns_slides").animate({left:0,top:0},n.slideTransitionSpeed,n.slideTransitionEasing)}else if(o<0&&o<=l/h*-1||f<0&&f<=c/h*-1){e(t).find(".ns_timer").stop();e(t).find(".ns_timer").fadeOut(n.slideTransitionSpeed/2,n.slideTransitionEasing,function(){e(t).find(".ns_timer").css({width:n.timerStartWidth}).show().removeClass("ns_selected")});a();e(t).find(".ns_slides").animate({left:0,top:0},n.slideTransitionSpeed,n.slideTransitionEasing)}else{e(t).find(".ns_slides").animate({left:0,top:0},n.slideTransitionSpeed,n.slideTransitionEasing)}}})}var t=this;e(t).wrap("<div class='ns_parentReader'></div>");e(t).data("preservedhtml",e(t).parent().html());e(t).unwrap();e(t).before("<!-- Nerve Slider -->");e(t).addClass("ns_nerveSlider");e(t).addClass(n.sliderTheme);if(n.sliderHeightAdaptable===true){e(t).addClass("heightAdaptable")}var r=false;n.sliderWidth=""+n.sliderWidth+"";n.sliderHeight=""+n.sliderHeight+"";var i;var s;if(n.slideTransitionDirection=="left"){i="left";s="x";e(t).addClass("ns_horizontal")}else if(n.slideTransitionDirection=="right"){i="right";s="x";e(t).addClass("ns_horizontal")}else if(n.slideTransitionDirection=="up"){i="top";s="y";e(t).addClass("ns_vertical")}else if(n.slideTransitionDirection=="down"){i="bottom";s="y";e(t).addClass("ns_vertical")}var o={};e(t).css({height:n.sliderHeight,width:n.sliderWidth});if(n.sliderFullscreen===true){n.sliderWidth="100%";n.sliderHeight="100%";n.sliderResizable=true;e(t).css({height:n.sliderHeight,width:n.sliderWidth,position:"fixed",top:0,right:0,bottom:0,left:0})}var d=e(t).height()/e(t).width();var v=e(t).width()/e(t).height();var m=50;var g=-50;var y=n.sliderWidth;var b=n.sliderHeight;var w=y.indexOf("%")>=0;var E=b.indexOf("%")>=0;if(w===true||E===true){n.sliderResizable=true}if(n.slideShuffle===true){e(t).find(">a,>img,>div").nerveShuffle()}if(n.slideReverse===true){e(t).append(e(t).find(">a,>img,>div").get().reverse())}e(t).find(">div").each(function(){e(this).addClass("ns_slideContainer")});e(t).find(">a").each(function(){var t=e(this);var n=t.attr("href");var r=t.attr("target");var i=t.attr("rel");t.find(">img,>div").attr({"data-linkto":n,"data-linktarget":r,"data-linkrel":i});t.find(">img,>div").unwrap()});e(t).find("img").each(function(){var t=e(this);if(t.parent().hasClass("ns_nerveSlider")){t.wrap("<div></div>");t.parent().attr({"data-slidecaption":t.attr("data-slidecaption"),"data-linkto":t.attr("data-linkto"),"data-linktarget":t.attr("data-linktarget"),"data-linkrel":t.attr("data-linkrel"),"data-imagescalemode":t.attr("data-imagescalemode")});t.removeAttr("data-slidecaption");t.removeAttr("data-linkto");t.removeAttr("data-linktarget");t.removeAttr("data-linkrel");t.removeAttr("data-imagescalemode")}else if(t.parent().hasClass("ns_slideContainer")){t.parent().attr({"data-slidecaption":t.attr("data-slidecaption"),"data-linkto":t.attr("data-linkto"),"data-linktarget":t.attr("data-linktarget"),"data-linkrel":t.attr("data-linkrel"),"data-imagescalemode":t.attr("data-imagescalemode")});t.removeAttr("data-slidecaption");t.removeAttr("data-linkto");t.removeAttr("data-linktarget");t.removeAttr("data-linkrel");t.removeAttr("data-imagescalemode")}});e(t).find(">div").each(function(){var r=e(this);r.addClass("ns_slideContainer");r.find(">img").addClass("ns_slideImage");if(n.showCaptions===true){if(!r.attr("data-slidecaption")==""){var i=r.attr("data-slidecaption");r.append("<div class='ns_caption'><div></div></div>");r.find(".ns_caption div").html(i);r.removeAttr("data-slidecaption")}}if(!r.attr("data-linkto")==""){var s=r.attr("data-linkto");var o=r.attr("data-linktarget");var u=r.attr("data-linkrel");r.find("img.ns_slideImage").wrap("<a href='"+s+"'></a>");r.removeAttr("data-linkto");if(!r.attr("data-linktarget")==""){r.find("a").attr("target",o);r.removeAttr("data-linktarget")}if(!r.attr("data-linkrel")==""){r.find("a").attr("rel",data-u);r.removeAttr("data-linkrel")}}if(n.slideTransition=="slide"){e(this).data("positionleft",e(this).index()*100)}else if(n.slideTransition=="fade"){e(t).find(".ns_slideContainer:first").css({position:"absolute",top:0,left:0,"z-index":45,opacity:1});e(t).find(".ns_slideContainer:first").data("originalZIndex",44);e(t).find(".ns_slideContainer:not(':first')").each(function(){e(this).css({position:"absolute",top:0,left:0,"z-index":44,opacity:0});e(this).data("originalZIndex",44)});e(t).find(".ns_firstSlide").css("opacity",1)}if(n.sliderFullscreen===true){r.css({"z-index":g});--g}});e(t).find(".ns_slideContainer:first-child").addClass("ns_selected");e(t).find(".ns_slideContainer:first-child").addClass("ns_firstSlide");e(t).find(".ns_slideContainer:last-child").addClass("ns_lastSlide");e(t).find(".ns_caption").each(function(){e(this).hide()});var S=e(t).find(".ns_slideContainer").size();if(S===1){n.sliderAutoPlay=false}if(n.slideTransition=="slide"){e(t).find(".ns_firstSlide").clone().appendTo(e(t)).removeClass("ns_firstSlide").removeClass("ns_selected").addClass("ns_decoy").addClass("ns_fs").data("positionleft",e(t).find(".ns_decoy.ns_fs").index()*100);e(t).find(".ns_lastSlide").clone().appendTo(e(t)).removeClass("ns_lastSlide").removeClass("ns_selected").addClass("ns_decoy").addClass("ns_ls").data("positionleft",e(t).find(".ns_decoy.ns_ls").index()*100);if(n.slideTransitionDirection=="left"){e(t).find(".ns_decoy.ns_ls").addClass("left")}else if(n.slideTransitionDirection=="right"){e(t).find(".ns_decoy.ns_ls").addClass("right")}else if(n.slideTransitionDirection=="up"){e(t).find(".ns_decoy.ns_ls").addClass("up")}else if(n.slideTransitionDirection=="down"){e(t).find(".ns_decoy.ns_ls").addClass("down")}}if(n.slideTransitionDirection=="right"){e(t).find(".ns_slideContainer:not('.ns_decoy.ns_ls')").each(function(){e(this).css({right:e(this).index()*200+"%"})})}else if(n.slideTransitionDirection=="down"){e(t).find(".ns_slideContainer:not('.ns_decoy.ns_ls')").each(function(){e(this).css({bottom:e(this).index()*200+"%"})})}if(!n.showLoadingOverlay===false){e(t).find(".ns_slideContainer").has(".ns_slideImage").each(function(){var r=e(this);r.find("img.ns_slideImage").css("opacity",0);r.append("<div class='ns_loadSpinner'><div></div></div>");r.find(".ns_loadSpinner").show();r.find("img.ns_slideImage").bind("load",function(){r.find(".ns_loadSpinner").remove();r.find("img.ns_slideImage").animate({opacity:1},n.slideTransitionSpeed);if(n.sliderHeightAdaptable===true){e(t).stop().animate({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},n.slideTransitionSpeed,n.slideTransitionEasing)}}).each(function(){if(this.complete){e(this).load()}})})}e(t).find(".ns_slideContainer").each(function(){var t=e(this);t.find("img.ns_slideImage").error(function(){e(this).after("<div class='ns_dummyImage'><div></div></div>");t.find(".ns_dummyImage").show();e(this).remove();t.find(".ns_loadSpinner").remove()})});e(t).prepend("<div class='ns_slides'><div class='ns_slidesTrack'></div></div");e(t).find(".ns_slideContainer").each(function(){e(this).appendTo(e(t).find(".ns_slides .ns_slidesTrack"))});e(t).append("<div class='ns_timer'></div>");if(n.showTimer===false){e(t).find(".ns_timer").css("bottom",e(t).find(".ns_timer").height()*-2)}e(t).find(".ns_timer").css("width",n.timerStartWidth);e(t).append("<div class='ns_prevButton'><div></div></div>");e(t).append("<div class='ns_nextButton'><div></div></div>");e(t).find(".ns_prevButton").click(a);e(t).find(".ns_nextButton").click(u);if(n.showArrows===false){e(t).find(".ns_nextButton, .ns_prevButton").hide()}e(t).append("<div class='ns_pauseButton'><div></div></div>");if(n.sliderAutoPlay===true){e(t).find(".ns_pauseButton").one("click",l)}if(n.sliderAutoPlay===false){l()}if(n.showPause===false){e(t).find(".ns_pauseButton").hide()}e(t).append("<div class='ns_dots'></div>");for(var x=0;x<S;x++){e(t).find(".ns_dots").append("<div class='ns_dot'></div>")}var T=0;e(t).find(".ns_dots .ns_dot").each(function(){e(this).attr("id",++T-1);var t=e(this).attr("id");e(this).attr("id","ns_dot_"+t);var r=e(this).attr("id").replace("ns_dot_","");if(n.slideTransition=="slide"){e(this).data({jumpposition:r*-100+"%"});e(this).bind("click",function(){var t=e(this);N(t)})}else if(n.slideTransition=="fade"){e(this).bind("click",function(){var t=e(this);C(t)})}});e(t).find(".ns_dots .ns_dot:first-child").addClass("ns_selected");if(n.showDots===false){e(t).find(".ns_dots").hide()}if(n.startOnSlide>1&&n.startOnSlide<=S){e(t).find(".ns_slideContainer.ns_selected,.ns_dot.ns_selected").removeClass("ns_selected");e(t).find(".ns_slideContainer").eq(n.startOnSlide-1).addClass("ns_selected");e(t).find(".ns_dot").eq(n.startOnSlide-1).addClass("ns_selected");if(n.slideTransition=="slide"){o[i]=e(t).find(".ns_selected").data("positionleft")*-1+"%";e(t).find(".ns_slidesTrack").css(o);if(n.sliderHeightAdaptable===true){e(t).css({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())})}e(t).find(".ns_caption").stop().fadeOut(0);e(t).find(".ns_slideContainer.ns_selected .ns_caption").stop().fadeIn(0)}else if(n.slideTransition=="fade"){e(t).find(".ns_slideContainer").animate({opacity:0},0);e(t).find(".ns_slideContainer.ns_selected").animate({opacity:1},0);if(n.sliderHeightAdaptable===true){e(t).css({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())})}e(t).find(".ns_caption").stop().fadeOut(0);e(t).find(".ns_slideContainer.ns_selected .ns_caption").stop().fadeIn(0)}}if(n.slidesDraggable===true&&n.slideTransition!="fade"){k()}if(n.allowKeyboardEvents===true){e(document).keydown(function(n){if(n.keyCode==27){h()}if(n.keyCode==37||n.keyCode==38){a()}if(n.keyCode==39||n.keyCode==40){u()}if(n.keyCode>=97&&n.keyCode<=105){e(t).find(".ns_dots .ns_dot").eq(n.keyCode-97).trigger("click")}if(n.keyCode==96){e(t).find(".ns_dots .ns_dot").eq(9).trigger("click")}})}if(n.showFilmstrip===true){e(t).append("<div class='ns_filmstrip'></div>");var L=e(t).find(".ns_filmstrip");e(t).find(".ns_slideContainer:not('.ns_decoy')").each(function(){var t=e(this).find("img").attr("src");L.append("<img src='"+t+"' class='ns_fThumb'>")});L.find("img.ns_fThumb").each(function(){e(this).bind("click",function(){e(t).find(".ns_dots .ns_dot").eq(e(this).index()).trigger("click")})})}var A;var O;A=function(){e(t).find(".ns_slideContainer").each(function(){if(e(this).attr("data-imagescalemode")!=null){O=e(this).attr("data-imagescalemode")}else{O=n.slideImageScaleMode}if(O=="fill"){var t=e(this).find(">img.ns_slideImage, >a>img.ns_slideImage");t.one("load",function(){var e=t.parent().width();var n=t.parent().height();var r=t.width();var i=t.height();var s=r/e;if(i/s<n){t.css({width:"auto",height:n});r=r/(i/n);i=n}else{t.css({height:"auto",width:e});r=e;i=i/s}var o=(r-e)/-2;var u=(i-n)/-2;t.css({left:o,top:u})}).each(function(){if(this.complete){e(this).trigger("load")}})}else if(O=="fit"){var t=e(this).find(">img.ns_slideImage, >a>img.ns_slideImage");t.one("load",function(){var e=t.width();var n=t.height();var r=t.parent().width();var i=t.parent().height();var s=e/n;var o=r/i;if(o>s){t.css({height:"100%",width:"auto"});var u=(r-e)/2;t.css({"margin-left":u})}else if(o<s){t.css({height:"auto",width:"100%"});var a=Math.floor((i-n)/2);t.css({"margin-top":a})}}).each(function(){if(this.complete){e(this).trigger("load")}})}else if(O=="stretch"){var t=e(this).find(">img.ns_slideImage, >a>img.ns_slideImage");t.one("load",function(){e(this).css({width:"100%",height:"100%"})}).each(function(){if(this.complete){e(this).trigger("load")}})}else if(O=="center"){var t=e(this).find(">img.ns_slideImage, >a>img.ns_slideImage");t.one("load",function(){var e=t.parent().width();var n=t.parent().height();var r=t.width();var i=t.height();var s=(r-e)/-2;var o=(i-n)/-2;t.css({left:s,top:o})}).each(function(){if(this.complete){e(this).trigger("load")}})}})};if(n.sliderHeightAdaptable===false){A()}e(t).append("<div class='ns_extras' style='display:none'></div>");e(t).find(".ns_extras").append("<div class='ns_imgButton'></div>");e(t).find(".ns_extras .ns_imgButton").bind("click",function(){if(n.sliderHeightAdaptable===false){A()}});if(n.sliderResizable===true){var y=n.sliderWidth;var b=n.sliderHeight;var w=y.indexOf("%")>=0;var E=b.indexOf("%")>=0;if(n.sliderHeightAdaptable===false){if(w===false&&E===false){e(t).css({"max-width":n.sliderWidth,width:"100%"});e(window).resize(function(){if(n.sliderKeepAspectRatio===true){e(t).css({height:e(t).width()*d})}if(n.sliderHeightAdaptable===false){A()}});e(window).trigger("resize");p()}else{if(w===true&&E===false){e(t).css({width:n.sliderWidth});e(window).resize(function(){if(n.sliderKeepAspectRatio===true){e(t).css({height:e(t).width()*d})}else{e(t).css({height:n.sliderHidth})}if(n.sliderHeightAdaptable===false){A()}})}else if(E===true&&w===false){e(t).css({height:n.sliderHeight});e(window).resize(function(){if(n.sliderKeepAspectRatio===true){e(t).css({"max-width":e(t).height()*v,width:"100%"})}else{e(t).css({"max-width":n.sliderWidth,width:"100%"})}if(n.sliderHeightAdaptable===false){A()}})}else if(E===true&&w===true){e(t).css({width:n.sliderWidth});e(t).css({height:n.sliderHeight});e(window).resize(function(){if(n.sliderHeightAdaptable===false){A()}})}if(n.sliderHeightAdaptable===false){A()}e(window).trigger("resize");p()}}else if(n.sliderHeightAdaptable===true){if(w===false&&E===false){e(t).css({"max-width":n.sliderWidth,width:"100%"});e(t).css({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())})}else{e(t).css({width:n.sliderWidth});e(t).css({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())})}e(window).resize(function(){e(t).css({height:Math.max(e(t).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),e(t).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())})});p()}}else{if(n.waitForLoad===false){p()}else{var M=0;var _=false;e(t).find("img.ns_slideImage").bind("load",function(){if(e(t).find(".ns_loadSpinner").size()==0&&_===false){_=true;p()}}).each(function(){if(this.complete){e(this).load()}})}}})};e.fn.startslider=e.fn.nerveSlider})(jQuery);(function(e){e.fn.nextSlide=function(){return e(this).each(function(){e(this).find(".ns_nextButton").trigger("click")})}})(jQuery);(function(e){e.fn.prevSlide=function(){return e(this).each(function(){e(this).find(".ns_prevButton").trigger("click")})}})(jQuery);(function(e){e.fn.gotoSlide=function(t){var n=t;return e(this).each(function(n){e(this).find(".ns_dots .ns_dot").eq(t-1).trigger("click")})}})(jQuery);(function(e){e.fn.togglePause=function(){return e(this).each(function(){e(this).find(".ns_pauseButton").trigger("click")})}})(jQuery);(function(e){e.fn.fixImages=function(){return e(this).each(function(){e(this).find(".ns_extras .ns_imgButton").trigger("click")})}})(jQuery);(function(e){e.fn.endNerveSlider=function(){return e(this).each(function(){var t=e(this);t.wrap("<div class='ns_parentWriter'></div>");t.parent().html(t.data("preservedhtml"));var t=e(".ns_parentWriter>div");t.unwrap()})}})(jQuery)